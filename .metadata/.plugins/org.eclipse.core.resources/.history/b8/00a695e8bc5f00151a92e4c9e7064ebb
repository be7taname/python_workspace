'''
Created on Sep 19, 2015

@author: mianmianba
'''

class FlipSurroundedRegions(object):
#     def solutionSimple(self, board):
#         numRow = len(board)
#         numCol = len(board[0])
#         if numRow <= 2 or numCol <= 2: return
#         curRowStart = 1
#         curRowEnd = numRow - 2
#         curColStart = 1
#         curColEnd = numCol - 2
#         while (curRowStart <= curRowEnd and curColStart <= curColEnd):
#             for j in range(curColStart, curColEnd+1):
#                 if board[curRowStart][j] == 'O':
        
        
    def expand(self, board, row, col, visited):
        numRow = len(board)
        numCol = len(board[0])
        visited[row][col] = True
        if row-1 >= 0 and visited[row-1][col] == False and board[row-1][col] == 'O':
            self.expand(board, row-1, col, visited)
        if row+1 < numRow and visited[row+1][col] == False and board[row+1][col] == 'O':
            self.expand(board, row+1, col, visited)
        if col-1 >= 0 and visited[row][col-1] == False and board[row][col-1] == 'O':
            self.expand(board, row, col-1, visited)
        if col+1 < numCol and visited[row][col+1] == False and board[row][col+1] == 'O':
            self.expand(board, row, col+1, visited)
        
    def solution(self, board):
        """
        :type board: List[List[str]]
        :rtype: void Do not return anything, modify board in-place instead.
        """
        numRow = len(board)
        if numRow == 0: return
        numCol = len(board[0])
        visited = [[False]*numCol for i in range(numRow)]
        for i in range(numCol):
            if visited[0][i] == False and board[0][i] == 'X':
                visited[0][i] = True
            else:
                self.expand(board, 0, i, visited)
        for i in range(numCol):
            if visited[numRow-1][i] == False and board[numRow-1][i] == 'X':
                visited[numRow-1][i] = True
            else:
                self.expand(board, numRow-1, i, visited)
        for i in range(1, numRow-1):
            if visited[i][0] == False and board[i][0] == 'X':
                visited[i][0] = True
            else:
                self.expand(board, i, 0, visited)
        for i in range(1, numRow-1):
            if visited[i][numCol-1] == False and board[i][numCol-1] == 'X':
                visited[i][numCol-1] = True
            else:
                self.expand(board, i, numCol-1, visited)
        for i in range(1, numRow-1):
            for j in range(1, numCol-1):
                if visited[i][j] == False and board[i][j] == 'O':
                    board[i][j] = 'X'
                    
                