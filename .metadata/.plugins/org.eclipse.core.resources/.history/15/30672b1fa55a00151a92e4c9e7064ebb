'''
Created on Sep 13, 2015

@author: mianmianba
'''

from common.TreeNode import TreeNode
from common.ListNode import ListNode
class SortedListToBST(object):
    def genBstFromList(self, listHead, listLen):
        if listLen == 1:
            tn = TreeNode()
            tn.val = listHead.val
            listHead = listHead.next
            return tn
        else:
            leftTree = self.genBstFromList(listHead, listLen/2)
            root = TreeNode()
            root.val = listHead.val
            root.left = leftTree
            root.right = self.genBstFromList(listHead.next, listLen - listLen/2 - 1)
            return root
        
    def solution(self, head):
        """
        :type head: ListNode
        :rtype: TreeNode
        """
        thisListNode = head
        listNodeCnt = 0
        while thisListNode != None:
            listNodeCnt += 1
            thisListNode = thisListNode.next
        return self.genBstFromList(head, listNodeCnt)