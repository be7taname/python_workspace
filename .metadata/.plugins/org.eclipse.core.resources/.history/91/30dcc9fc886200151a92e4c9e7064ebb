'''
Created on Sep 22, 2015

@author: mianmianba
'''

class LadderLength(object):
    def diffOne(self, word1, word2, wordLen):
        numDiff = 0
        for i in range(wordLen):
            if word1[i] != word2[i]:
                if numDiff == 0:
                    numDiff = 1
                else:
                    return False
        return False if numDiff == 0 else True
        
    def solution(self, beginWord, endWord, wordList):
        """
        :type beginWord: str
        :type endWord: str
        :type wordList: Set[str]
        :rtype: int
        """
        if beginWord == endWord: return 1
        wordLen = len(beginWord)
        curSet = set()
        wordList2 = set()
        for word in wordList:
            if word == beginWord:
                wordList2.add(word) 
                continue
            if self.diffOne(word, beginWord, wordLen):
                if word == endWord: return 2
                elif self.diffOne(word, endWord, wordLen):
                    return 3
                else:
                    curSet.add(word)
                wordList2.add(word)
        wordList -= wordList2
        curLevel = 2
        while wordList:
            curLevel += 1
            change = 0
            nxtSet = set()
            wordList2 = set()
            for wordR in wordList:
                for wordC in curSet:
                    if self.diffOne(wordR, wordC, wordLen):
                        change = 1
                        if wordR == endWord: return curLevel
                        elif self.diffOne(wordR, endWord, wordLen):
                            return curLevel + 1
                        else:
                            nxtSet.add(wordR)
                        wordList2.add(wordR)
                        break
            if change == 0: return 0
            wordList -= wordList2
            curSet = nxtSet
        return 0           

    def solutionBFS(self, beginWord, endWord, wordList):
        """
        :type beginWord: str
        :type endWord: str
        :type wordList: Set[str]
        :rtype: int
        """
        wordTreeQ = [beginWord]
        while wordTreeQ:
            